---
title: 建站的一路坎坷
date: 2022-04-09
categories: [生活]
tags: [技术]
img_path: /assets/img/
---

今天我的个人网站就搭建成功啦。为什么要搭个人网站呢，其实主要还是导师的建议：**做科研要有笔记**。之前的习惯是用iPad在论文上或书上勾勾画画，缺点就是太容易忘，需要用到时全凭记忆。整理成笔记的过程也是内化为自己知识的过程，还可以和别人分享，省去亲自讲的时间。希望这次搭的网站能让这个习惯坚持下去，为自己带来一些提升吧。

说到分享，其实做过一个公众号，叫“应用数学博士周记”，在刚入学的时候试图严格规律自己的学习科研（以周记的形式），发了几个周以后，发现事情远没有那么容易，因为一年级的时间完全无法自己掌控，周记这种形式又太死板，确实很难坚持下去；而且公众号这种推送给用户的形式越发觉得尬…… 后来就在上面发了一些读书笔记，但也过于麻烦：需要调的格式过多、大量依赖第三方软件（秀米、墨滴等）、处理公式不方便、微信公众平台的审核机制。

公众号本质上是自媒体，所以一开通，然后被我宣传了一小下，就有好多朋友关注催更，感觉自己这么高调，像一个up主一样哈哈哈。从经济角度讲，这种面向观众的性质给我添了很多负担，有时为满足观者的需求甚至要在内容和素材上妥协，如果不以盈利为目的，就会花掉很多对自己无用的时间。（我认为这也是为什么很多个人公众号坚持不下去的原因，试过才知道）

所以就试试个人网站吧，没有定时，没有题材限制，且平台的权限全在我，想发就发，我想做成什么样子都可以。我希望每篇文章更加随性一点，对个人成长更有帮助一点。网站也不主动向他人推送，不会打扰到不想被打扰的朋友。只把网站放到自己的名片一栏里，若你感兴趣，自然会点进来一堵为快的。





## 建站过程

这个网站是用[GitHub Pages](https://pages.github.com)搭建的，是一个静态网站，不需要自己买域名组服务器，整个网站的文件放到一个GitHub的仓库里即可，由他们部署托管，应该是所有建站方法中最省事的吧（个人还没有技术能力搭建动态网站）。GitHub还给了很多模版，用模板就不用自己写前端了，每次只需把要发的文章写成MarkDown格式，模版的工具[jekyll](https://jekyllrb.com)会自动生成网页源代码。

就是这么一个简单的东西，只需几步：clone模版仓库、安装jekyll工具、修改模版里的个人信息、push到GitHub上，结果花了我将近一天才成功。我面临的诸多，对于熟悉前后端的程序员来说可能就是小bug的问题，让我绞尽脑汁研究了很长时间：

- 工具jekyll需要安装Ruby和它的包管理工具gem，我心想这不就类似Python和pip么，小菜一碟，结果装完后遇到了各种无法调用jekyll的问题。最后发现，Mac系统自带了一个低版本的Ruby，新安装的Ruby和它的环境变量混淆了，导致安装jekyll时依赖关系混乱、版本不匹配。最终解决方法是重新安装Ruby，安装jekyll时注意gem命令的环境变量（找环境变量的`which`命令没用过，甚至还可以一个`which -a`找出所有，这个命令就苦寻了很久）让它装到非系统自带的Ruby下，在调用jekyll时也注意环境变量。

- 网站生成出来后界面巨丑。我知道一点CSS的原理，于是下意识进网页代码里看，确实是CSS路径不对，找不到CSS文件。可是我在本地看是没问题的呀，怎么部署上去就找不到了呢。知乎上有人问了这个问题，一位程序员轻描淡写地解决了：

    ![1](building_this_site_1.png)

    瞬间感觉到降维打击…… 我于是全文搜索`baseurl`，终于在一个配置文件里找到了它的赋值，改了一下就成功了。

- 我用的这个[chirpy](https://github.com/cotes2020/jekyll-theme-chirpy) 模版，有一个巨坑，它在某一个不起眼的文档里说了这样一件事：

    ![2](building_this_site_2.png)

    结果就是我无论怎么调，随后打开我的网站查看效果时，永远都是第一次失败的那个网页。瞬间感觉自己太sb了，如果是个经验丰富的前端程序员，恐怕早就想到这个问题了。这个坑浪费了我大半的时间。


我深刻感受到了，永远要相信内行人的内行。之前选修信科（相当于贵校的计算机学院）的《数字图像处理》课程，老师说，咱作业项目就做成网页demo吧。我们几个数院的顿时冒了很多问号，嗯？？做网页？再次向老师“哭诉”不会做网页时，老师便让助教现场搭了一个`Flask`模版给我们用。回去之后，好家伙项目花多少时间，套这个模版就花多少时间。真的是数不清的小bug啊，图片加载不出来、字号跳不了、点按钮没反应，只能让计算机专业的同学见笑了。


不管怎么说，网站搭成了，靠自己解决了这些技术问题，也很有成就感。就让这个网站一路陪我走下去吧。 :-)
